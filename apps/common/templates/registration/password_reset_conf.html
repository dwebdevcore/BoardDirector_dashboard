{% extends "blank_form.html" %}
{% load i18n %}
{% load static %}

{% block title %}{% trans 'Password reset' %}{% endblock %}

{% block extra_css %}
  <link href="{% static 'css/custom.css' %}" rel="stylesheet">
{% endblock extra_css %}

{% block content %}
  <div class="form-holder" style="margin: 150px auto;">
    <header>
      {% if validlink %}
        <h2>{% trans 'Enter new password' %}</h2>
        <p>{% trans "Please enter your new password twice so we can verify you typed it in correctly." %}</p>
      {% else %}
        <h2>{% trans 'Password reset unsuccessful' %}</h2>
        <p>{% trans "The password reset link was invalid, possibly because it has already been used. Please " %}<a href="{% url 'auth_password_reset' %}">{% trans "request a new password reset" %}</a>.</p>
        <br/><br/><p><a href="/">{% trans "Go to main page" %}</a></p>
      {% endif %}
    </header>
    {% if validlink %}
    <form action="" method="post" class="form">{% csrf_token %}
      <li><label for="id_new_password1">{% trans 'New password:' %}</label>
        {{ form.new_password1 }}
      </li>
      {% if form.id_new_password1.errors %}
        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-for="id_email" role="alert">
          <span class="k-icon k-warning"></span>
          {{ form.id_new_password1.errors.0 }}
        </span>
      {% endif %}

      <li><label for="id_new_password2">{% trans 'Confirm password:' %}</label>
        {{ form.new_password2 }}
      </li>
      {% if form.new_password2.errors %}
        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-for="id_email" role="alert">
          <span class="k-icon k-warning"></span>
          {{ form.new_password2.errors.0 }}
        </span>
      {% endif %}

      <div class="holder">
        <input type="submit" value="{% trans 'Change my password' %}" class="btn">
      </div>
    </form>
    <br/><br/><p style="margin: 0 auto;text-align:center;"><a href="/">{% trans "Go to main page" %}</a></p>
    {% endif %}
  </div>
{% endblock %}

{% comment %}
{% extends "blank_form.html" %}
{% load i18n %}
{% load static %}

{% block title %}{% trans 'Password reset' %}{% endblock %}

{% block extra_css %}
  <link href="{% static 'css/custom.css' %}" rel="stylesheet">
{% endblock extra_css %}

{% block content %}
  <div class="form-holder">
    <header>
      {% if validlink %}
        <h2>{% trans 'Enter new password' %}</h2>
        <p>{% trans "Please enter your new password twice so we can verify you typed it in correctly." %}</p>
      {% else %}
        <h2>{% trans 'Password reset unsuccessful' %}</h2>
        <p>{% trans "The password reset link was invalid, possibly because it has already been used. Please request a new password reset." %}</p>
      {% endif %}
    </header>
    {% if validlink %}
    <form action="" method="post" class="form">{% csrf_token %}
      <li><label for="id_new_password1">{% trans 'New password:' %}</label>
        {{ form.new_password1 }}
      </li>
      {% if form.id_new_password1.errors %}
        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-for="id_email" role="alert">
          <span class="k-icon k-warning"></span>
          {{ form.id_new_password1.errors.0 }}
        </span>
      {% endif %}

      <li><label for="id_new_password2">{% trans 'Confirm password:' %}</label>
        {{ form.new_password2 }}
      </li>
      {% if form.new_password2.errors %}
        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-for="id_email" role="alert">
          <span class="k-icon k-warning"></span>
          {{ form.new_password2.errors.0 }}
        </span>
      {% endif %}

      <div class="holder">
        <input type="submit" value="{% trans 'Change my password' %}" class="btn">
      </div>
    </form>
    {% endif %}
  </div>
{% endblock %}
{% endcomment %}
